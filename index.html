<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/web/scss/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
</head>
<body>
    <header class="header">
        <div class="container header-container">
            <a href="index.html" class="logo">
                <div class="logo-container">
                    <img src="/src/img/logo-red.png" alt="" class="logo-img">
                </div>
                Krakow Live Map
            </a>
            <div class="header-menu menu">
                <div class="menu-icon">
                    <span></span><span></span><span></span>
                </div>
                <nav class="menu-body">
                    <ul class="menu-list">
                        <li class="menu-item"><a href="#" class="menu-link active text tabs-title" data-tab="news">News</a></li>
                        <li class="menu-item"><a href="#" class="menu-link text tabs-title" data-tab="language">Language</a></li>
                        <li class="menu-item"><a href="#" class="menu-link text tabs-title" data-tab="info">Info</a></li>
                        <li class="menu-item"><a href="#" class="menu-link text tabs-title" data-tab="add-event">Add Event</a></li>
                        <li class="menu-item"><button class="btn-hover btn" id="login">Login</button></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>
    <main class="main">
        <div class="login">
            <div class="login-exit">
                <span></span>
                <span></span>
            </div>
            <form action="" class="login-form">
                <h2 class="login-title">Log In</h2>
                <div class="login-input">
                    <label for="email">Your e-mail:</label>
                    <input type="email" placeholder="Enter your e-mail" name="email">
                    <label for="password">Your password:</label>
                    <input type="password" placeholder="Enter your password" name="password">
                </div>
                <button type="submit" class="login-submit btn btn-hover">Log In</button>
                <div class="login-ga">
                    <button class="login-google login-btn">
                        <img src="img/icons8-google.svg" alt="">
                        Log In with Google
                    </button>
                    <button class="login-apple login-btn">
                        <img src="/img/apple-logo.svg" alt="">
                        Log In with Apple
                    </button>
                </div>
                <p class="login-transfer">
                    Dont't have an account?
                    <a href="#" class="login-transfer-link"> Create It! </a>
                </p>
            </form>
        </div>
        
        <div class="login signup">
            <div class="login-exit signup-exit">
                <span></span>
                <span></span>
            </div>
            <form action="" class="login-form">
                <h2 class="login-title">Sign Up</h2>
                <div class="login-input">
                    <label for="email">Your e-mail:</label>
                    <input type="email" placeholder="Enter your e-mail" name="email">
                    <label for="password">Your password:</label>
                    <input type="password" placeholder="Enter your password" name="password">
                </div>
                <button type="submit" class="login-submit btn btn-hover">Sigh Up</button>
                <div class="login-ga">
                    <button class="login-google login-btn">
                        <img src="img/icons8-google.svg" alt="">
                        Continue with Google
                    </button>
                    <button class="login-apple login-btn">
                        <img src="/img/apple-logo.svg" alt="">
                        Continue with Apple
                    </button>
                </div>
                <p class="login-transfer">Already have an account?<a href="#" class="signup-transfer-link"> Log in </a>
                </p>
            </form>
        </div>
        <div class="main-container">
            <div class="map" id="map">
                <iframe width="425" height="350" src="https://www.openstreetmap.org/export/embed.html?bbox=19.824314117431644%2C50.013144588751366%2C20.028591156005863%2C50.09679819285975&amp;layer=hot" style="border: 1px solid black"></iframe><br/><small><a href="https://www.openstreetmap.org/#map=13/50.0550/19.9265&amp;layers=H">Посмотреть более крупную карту</a></small>
            </div>
            <div class="sidebar">
                <div class="sidebar-container">
                    <div class="news tab hidden" id="news">
                        <!-- <div class="sidebar-title title">News</div> -->
                        <div class="sidebar-content">
                            <div class="sidebar-item">
                                <div class="sidebar-item-heading">
                                    <div class="sidebar-item-icon"><img src="/src/img/police-logo.jpeg" alt=""></div>
                                    <div class="sidebar-item-datetime text">1 hour ago</div>
                                </div>
                                <div class="sidebar-item-content">
                                    <div class="sidebar-item-text text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia facere eaque minima maiores quas corporis. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia facere eaque minima maiores quas corporis.</div>
                                </div>
                            </div>
                            <div class="sidebar-item">
                                <div class="sidebar-item-heading">
                                    <div class="sidebar-item-icon"><img src="/src/img/fire-logo.png" alt=""></div>
                                    <div class="sidebar-item-datetime text">2 hour ago</div>
                                </div>
                                <div class="sidebar-item-content">
                                    <div class="sidebar-item-text text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia facere eaque minima maiores quas corporis. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia facere eaque minima maiores quas corporis.</div>
                                </div>
                            </div>
                            <div class="sidebar-item">
                                <div class="sidebar-item-heading">
                                    <div class="sidebar-item-icon"><img src="/src/img/balaclava-logo.png" alt=""></div>
                                    <div class="sidebar-item-datetime text">3 hours ago</div>
                                </div>
                                <div class="sidebar-item-content">
                                    <div class="sidebar-item-text text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia facere eaque minima maiores quas corporis. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia facere eaque minima maiores quas corporis.</div>
                                </div>
                            </div>
                            <div class="sidebar-item">
                                <div class="sidebar-item-heading">
                                    <div class="sidebar-item-icon"><img src="/src/img/car-logo.png" alt=""></div>
                                    <div class="sidebar-item-datetime text">4 hour ago</div>
                                </div>
                                <div class="sidebar-item-content">
                                    <div class="sidebar-item-text text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia facere eaque minima maiores quas corporis. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quia facere eaque minima maiores quas corporis.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="language tab hidden" id="language">
                        <!-- <div class="sidebar-title title">Languages</div> -->
                        <div class="sidebar-content">
                            <div class="sidebar-item language-item">English</div>
                            <div class="sidebar-item language-item">Polski</div>
                            <div class="sidebar-item language-item">Украиньска</div>
                            <div class="sidebar-item language-item">Русский</div>
                        </div>
                    </div>
                    <div class="info tab hidden" id="info">
                        <!-- <div class="sidebar-title title">Info</div> -->
                        <div class="sidebar-content">
                            <div class="sidebar-item info-item">
                                <div class="info-title title">Colors on the map</div>
                                <div class="info-content">
                                    <ul class="info-list">
                                        <li class="info-list-element">
                                            <div class="info-list-element-circle" id="government"></div>
                                            <div class="info-list-element-text text">Government</div>
                                        </li>
                                        <li class="info-list-element">
                                            <div class="info-list-element-circle" id="criminals"></div>
                                            <div class="info-list-element-text text">Criminals</div>
                                        </li>
                                        <li class="info-list-element">
                                            <div class="info-list-element-circle" id="groups"></div>
                                            <div class="info-list-element-text text">Non-government groups</div>
                                        </li>
                                        <li class="info-list-element">
                                            <div class="info-list-element-circle" id="nature"></div>
                                            <div class="info-list-element-text text">Nature</div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="sidebar-item info-item">
                                <!-- <div class="info-title title">Areas</div> -->
                                <div class="info-content">
                                    <ul class="info-list">
                                        <li class="info-list-element">
                                            <div class="info-list-element-img"><span id="fire"></span></div>
                                            <div class="info-list-element-text text">Wildfires</div>
                                        </li>
                                        <li class="info-list-element">
                                            <div class="info-list-element-img"><span id="flood"></span></div>
                                            <div class="info-list-element-text text">Flood warnings</div>
                                        </li>
                                        <li class="info-list-element">
                                            <div class="info-list-element-img"><span id="storm"></span></div>
                                            <div class="info-list-element-text text">Storm warning</div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="sidebar-item info-item">
                                <div class="info-title title">Icons</div>
                                <div class="info-content">
                                    <ul class="info-list">
                                        <li class="info-list-element">
                                            <div class="info-list-element-img"><img src="/src/img/car-logo.png" alt=""></div>
                                            <div class="info-list-element-text text">Car accidents</div>
                                        </li>
                                        <li class="info-list-element">
                                            <div class="info-list-element-img"><img src="/src/img/balaclava-logo.png" alt=""></div>
                                            <div class="info-list-element-text text">Robberies</div>
                                        </li>
                                        <li class="info-list-element">
                                            <div class="info-list-element-img"><img src="/src/img/fire-logo.png" alt=""></div>
                                            <div class="info-list-element-text text">Fire</div>
                                        </li>
                                        <li class="info-list-element">
                                            <div class="info-list-element-img"><img src="/src/img/police-logo.jpeg" alt=""></div>
                                            <div class="info-list-element-text text">Police</div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="event tab hidden" id="add-event">
                        <div class="sidebar-content">
                            <form action="/submit-event" method="post" class="event-form">

                                <div class="event-form-group">
                                    <label for="title" class="text">Title:</label>
                                    <input type="text" id="title" name="title" required>
                                </div>

                                <div class="event-form-group">
                                    <label for="description">Description:</label>
                                    <input id="description" name="description" rows="4" required></textarea>
                                </div>

                                <div class="event-form-group">
                                    <label for="description">Location:</label>
                                    <button type="button" id="addLocationBtn" class="event-location btn btn-hover">Add Location</button>
                                </div>

                                <div class="event-form-group">
                                    <button type="submit" class="event-submit btn btn-hover">Submit</button>
                                </div>
                                </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="footer">
        <div class="container footer-container">
            <div class="footer-wrapper">
                <div class="footer-links">
                    <ul class="footer-list">
                        <li class="footer-item"><a href="" class="footer-link"><img src="/src/img/facebook-red.png" alt="" class="footer-icon"></a></li>
                        <li class="footer-item"><a href="" class="footer-link"><img src="/src/img/instagram-red.png" alt="" class="footer-icon"></a></li>
                        <li class="footer-item"><a href="" class="footer-link"><img src="/src/img/twitter-red.png" alt="" class="footer-icon"></a></li>
                    </ul>
                </div>
                <div class="footer-copyrigth text">
                    <p>Authors: Timofei Korsakov/Nazar Dumych</p>
                </div>
            </div>
        </div>
    </footer>
    <script src="/web/js/tabs.js"></script>
    <script src="/web/js/burger.js"></script>
    <script src="/web/js/menu_links.js"></script>
    <script src="/web/js/login.js"></script>
    <script>
        var map = L.map('map').setView([50.062, 19.932], 13);

        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map)

        navigator.geolocation.watchPosition(succes, error)

        function succes(position)
        {
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;
            const accuracy = position.coords.accuracy;
            
            var redIcon = new L.Icon({
                iconUrl: '/src/img/pointer-red.png', // URL to the default marker icon
                iconSize: [25, 41], // Size of the icon
                iconAnchor: [12, 41], // Point of the icon which corresponds to marker's location
                popupAnchor: [1, -34], // Point from which the popup should open relative to the iconAnchor
                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png', // URL to the marker's shadow image
                shadowSize: [41, 41], // Size of the shadow
                shadowAnchor: [12, 41] // Point from which the shadow should be positioned
                });
            var marker = L.marker([latitude, longitude],{icon:redIcon}).addTo(map);
            marker.bindPopup("<b>You are there!</b>").openPopup();
            var circle = L.circle([latitude, longitude], {
                color: 'blue',
                fillColor: '#f03',
                fillOpacity: 0.5,
                radius: accuracy
            }).addTo(map);
        }

        function error(error)
        {
            if (error.code === 1)
            {
                alert("Please allow geaolocation access")
            }
            else{
                alert("Cannot get your location")
            }
        }
    </script>
</body>
</html>